(function(e){function n(n){for(var o,a,u=n[0],i=n[1],l=n[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);s&&s(n);while(f.length)f.shift()();return r.push.apply(r,l||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],o=!0,u=1;u<t.length;u++){var i=t[u];0!==c[i]&&(o=!1)}o&&(r.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},c={app:0},r=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var s=i;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"2b5f":function(e,n,t){},5660:function(e,n,t){"use strict";t("2b5f")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("7a23"),c={class:"m-b-20 link"},r={class:"m-10"};function a(e,n,t,a,u,i){var l=Object(o["l"])("v1"),s=Object(o["l"])("v2");return Object(o["h"])(),Object(o["c"])(o["a"],null,[Object(o["e"])("div",c,[Object(o["e"])("div",{onClick:n[1]||(n[1]=function(e){return i.select("v1")})},"v1"),Object(o["e"])("div",{onClick:n[2]||(n[2]=function(e){return i.select("v2")})},"v2")]),Object(o["e"])("div",r,Object(o["n"])(u.componentId),1),"v1"===u.componentId?(Object(o["h"])(),Object(o["c"])(l,{key:0,zoom:u.zoom},null,8,["zoom"])):(Object(o["h"])(),Object(o["c"])(s,{key:1,zoom:u.zoom},null,8,["zoom"]))],64)}t("b680");var u={class:"container"},i={class:"snake"},l={key:0,class:"arrow"};function s(e,n,t,c,r,a){return Object(o["h"])(),Object(o["c"])(o["a"],null,[Object(o["e"])("div",{class:"box",style:"zoom:".concat(t.zoom)},[Object(o["e"])("ul",u,[(Object(o["h"])(),Object(o["c"])(o["a"],null,Object(o["k"])(400,(function(e){return Object(o["e"])("li",{key:e,class:["point",c.randomNum===e-1?"b-c-0":""]},null,2)})),64))]),Object(o["e"])("ul",i,[(Object(o["h"])(!0),Object(o["c"])(o["a"],null,Object(o["k"])(c.snake,(function(e,n){return Object(o["h"])(),Object(o["c"])("li",{key:e.id,style:"top:"+e.top+"px;left:"+e.left+"px",class:n+1===c.snake.length?"b-c-pink":"b-c-purple"},null,6)})),128))])],4),Object(o["e"])("div",null,"身体长度："+Object(o["n"])(c.snake.length)+" | 吃掉的食物："+Object(o["n"])(c.eatenFood),1),Object(o["e"])("div",null," FoodOptions："+Object(o["n"])(c.randomNum)+" | snake头部："+Object(o["n"])(c.snake[c.snake.length-1].id),1),1!==t.zoom?(Object(o["h"])(),Object(o["c"])("div",l,[Object(o["e"])("div",{class:"top",onClick:n[1]||(n[1]=function(e){return c.changeDirection({keyCode:38})})},"↑"),Object(o["e"])("div",{class:"right",onClick:n[2]||(n[2]=function(e){return c.changeDirection({keyCode:39})})},"→"),Object(o["e"])("div",{class:"down",onClick:n[3]||(n[3]=function(e){return c.changeDirection({keyCode:40})})},"↓"),Object(o["e"])("div",{class:"left",onClick:n[4]||(n[4]=function(e){return c.changeDirection({keyCode:37})})},"←")])):Object(o["d"])("",!0)],64)}t("a9e3"),t("4160"),t("caad"),t("d81d"),t("fb6a"),t("a434"),t("2532"),t("159b");var d=t("5530");function f(){function e(e){var n=null,t=c.map((function(e){return e.id}));while(null===n||t.includes(n))n=Math.floor(Math.random()*e);return n}var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{id:t,top:e,left:n}},t=function(){c.length?c.splice(0,c.length,n(),n(0,20,1),n(0,40,2)):c.push(n(),n(0,20,1),n(0,40,2))},c=Object(o["i"])([]);t();var r=Object(o["j"])(e(400)),a=null,u=function(e){var n=e.keyCode;[37,38,39,40].includes(n)&&(i&&l===n||(n!==l+2&&n!==l-2?(l=n,clearInterval(i),i=setInterval((function(){c.forEach((function(e,t){t+1===c.length?s(e,n):(0===t&&(a=e),c[t]=Object(d["a"])({},c[t+1]))}))}),300)):n=l))},i=null,l=0;function s(e,n){var t,o;r.value===c[c.length-1].id&&b(),38===n||40===n?(t="top",o=20):(t="left",o=1);var a=e[t],u=e.id;38===n||37===n?(a-=20,u-=o):(a+=20,u+=o),a>380||a<0||c.slice(0,c.length-2).map((function(e){return e.id})).includes(u)?v():(e[t]=a,e.id=u)}var f=Object(o["j"])(0),b=function(){f.value++,c.unshift(n(a.top,a.left,a.id)),r.value=e(400)},v=function(){clearInterval(i),i=null,Object(o["f"])((function(){alert("游戏结束"),t(),r.value=e(400),f.value=0,a=null,l=0,console.log(c)}))};return window.addEventListener("keydown",u,!0),Object(o["g"])((function(){console.log("v1注销"),i&&clearInterval(i),window.removeEventListener("keydown",u)})),{snake:c,eatenFood:f,randomNum:r,changeDirection:u}}var b={name:"V1",props:{zoom:Number},setup:function(){var e=f(),n=e.snake,t=e.eatenFood,o=e.randomNum,c=e.changeDirection;return{randomNum:o,snake:n,eatenFood:t,changeDirection:c}}};t("f75a");b.render=s;var v=b,h={class:"container"},p={key:0,class:"arrow"},j={class:"top"},O={class:"right"},m={class:"down"},g={class:"left"};function k(e,n,t,c,r,a){var u=Object(o["m"])("tap");return Object(o["h"])(),Object(o["c"])(o["a"],null,[Object(o["e"])("div",{class:"box",style:"zoom:".concat(t.zoom)},[Object(o["e"])("ul",h,[(Object(o["h"])(!0),Object(o["c"])(o["a"],null,Object(o["k"])(c.snake,(function(e,n){return Object(o["h"])(),Object(o["c"])("li",{key:n,class:["point",e.bg]},null,2)})),128))])],4),Object(o["e"])("div",null,"身体长度："+Object(o["n"])(c.snakePoor.length)+" | 吃掉的食物："+Object(o["n"])(c.eatenFood),1),Object(o["e"])("div",null," FoodOptions："+Object(o["n"])(c.randomNum)+" | snake头部："+Object(o["n"])(c.snakePoor[c.snakePoor.length-1]),1),1!==t.zoom?(Object(o["h"])(),Object(o["c"])("div",p,[Object(o["o"])(Object(o["e"])("div",j," ↑ ",512),[[u,{fn:c.changeDirection,params:{keyCode:38}}]]),Object(o["o"])(Object(o["e"])("div",O," → ",512),[[u,{fn:c.changeDirection,params:{keyCode:39}}]]),Object(o["o"])(Object(o["e"])("div",m," ↓ ",512),[[u,{fn:c.changeDirection,params:{keyCode:40}}]]),Object(o["o"])(Object(o["e"])("div",g," ← ",512),[[u,{fn:c.changeDirection,params:{keyCode:37}}]])])):Object(o["d"])("",!0)],64)}t("99af"),t("4de4");function y(){function e(e){var n=null,o=t.filter((function(e){return e.bg})).map((function(e){return e.id}));while(null===n||o.includes(n))n=Math.floor(Math.random()*e);return t[n].bg="b-c-0",n}var n=function(){if(t.length)for(var e=0;e<400;e++)t[e].bg=0!==e&&1!==e?2!==e?"":"b-c-pink":"b-c-purple";else for(var n=0;n<400;n++)0!==n&&1!==n?2!==n?t.push({id:n,bg:""}):t.push({id:n,bg:"b-c-pink"}):t.push({id:n,bg:"b-c-purple"})},t=Object(o["i"])([]),c=Object(o["i"])([0,1,2]);n();var r=Object(o["j"])(e(400)),a=function(e){var n=e.keyCode;[37,38,39,40].includes(n)&&(u&&i===n||(n!==i+2&&n!==i-2?(i=n,clearInterval(u),u=setInterval((function(){l(n)}),300)):n=i))},u=null,i=0;function l(e){var n;n=38===e||40===e?20:1;var o=c[c.length-1];if(38===e||37===e?o-=n:o+=n,b(o))f();else{var a=c[0];t[a].bg="",t[c[c.length-1]].bg="b-c-purple",t[o].bg="b-c-pink",c.shift(),c.push(o),r.value===o&&d(a)}}var s=Object(o["j"])(0),d=function(n){s.value++,t[n].bg="b-c-purple",c.unshift(n),r.value=e(400)},f=function(){clearInterval(u),u=null,Object(o["f"])((function(){alert("游戏结束"),n(),r.value=e(400),s.value=0,i=0,c.splice.apply(c,[0,c.length].concat([0,1,2]))}))},b=function(e){var n=c[c.length-1];return n%20===0&&(e-19)%20===0||e%20===0&&(n-19)%20===0||(e<0||e>399||c.slice(0,c.length-2).includes(e))};return window.addEventListener("keydown",a,!0),Object(o["g"])((function(){console.log("v2注销"),u&&clearInterval(u),window.removeEventListener("keydown",a)})),{snake:t,eatenFood:s,randomNum:r,snakePoor:c,changeDirection:a}}var w={name:"V2",props:{zoom:Number},setup:function(){var e=y(),n=e.snake,t=e.eatenFood,o=e.randomNum,c=e.changeDirection,r=e.snakePoor;return{randomNum:o,snake:n,eatenFood:t,changeDirection:c,snakePoor:r}}};t("76e0");w.render=k;var F=w,x={name:"App",components:{V1:v,V2:F},data:function(){return{componentId:localStorage.getItem("v")||"v1",zoom:1}},methods:{select:function(e){this.componentId=e,localStorage.setItem("v",e)}},created:function(){var e=document.body.clientWidth;e<410&&(this.zoom=(e/410).toFixed(2))}};t("5660");x.render=a;var z=x,C=(t("b64b"),{mounted:function(e,n){var t=n.value,o=t.fn,c=t.params,r=n.modifiers,a=D(o,c,r);Object.keys(a).forEach((function(n){e[n]=a[n]})),e.addEventListener("touchstart",e.touchstartFn,!1),e.addEventListener("touchmove",e.touchmoveFn,!1),e.addEventListener("touchend",e.touchendFn,!1),e.addEventListener("touchcancel",e.touchcancelFn,!1)},beforeUnmount:function(e){e.removeEventListener("touchstart",e.touchstartFn),e.removeEventListener("touchmove",e.touchmoveFn),e.removeEventListener("touchend",e.touchendFn),e.removeEventListener("touchcancel",e.touchcancelFn),e.touchstartFn=e.touchmoveFn=e.touchendFn=e.touchcancelFn=null}}),D=function(e,n,t){var o=null,c={x1:null,y1:null,x2:null,y2:null},r=function(e){if(e.touches){var n=e.touches[0];c.x1=n.pageX,c.y1=n.pageY}},a=function(e){if(e.touches){var n=e.touches[0];c.x2=n.pageX,c.y2=n.pageY}},u=function(t){t.changedTouches&&(c.x2&&Math.abx(c.x1-c.x2)>30||c.y2&&Math.abx(c.y1-c.y2)>30||(o=setTimeout((function(){e(n)}),0)),c.x1=c.y1=c.x2=c.y2=null)},i=function(){clearTimeout(o)},l=function(e){t.stopPropagation&&e.stopPropagation(),t.preventDefault&&e.preventDefault(),r(e)},s=function(e){a(e)},d=function(e){u(e)},f=function(e){i(e)};return{touchstartFn:l,touchmoveFn:s,touchendFn:d,touchcancelFn:f}},P=Object(o["b"])(z);P.directive("tap",C),P.mount("#app")},"76e0":function(e,n,t){"use strict";t("ef66")},c5cd:function(e,n,t){},ef66:function(e,n,t){},f75a:function(e,n,t){"use strict";t("c5cd")}});